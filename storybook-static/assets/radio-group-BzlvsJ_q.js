import{$ as X,a as Y}from"./useFocusRing-4VaKALdW.js";import{r as o,R as y}from"./index-BX3iQpgp.js";import{u as ce}from"./use-by-comparator-Crp3XGDh.js";import{l as fe,T as me,j as be,p as ve}from"./form-fields-D66muWj_.js";import{K as H,y as N,a as L,L as V,b as Z,n as ee,_ as re,u as Re}from"./use-sync-refs-Bp_oN-Mm.js";import{H as $e,a as te,w as ae,U as ge}from"./description-t0JnaeEh.js";import{Q as he,K as oe,u as ke,I as Oe}from"./label-I5ZemZmp.js";import{r as ie}from"./bugs-DpEN4NTH.js";import{P as B,F as K,T as J,_ as Ee}from"./focus-management-BOawEHzT.js";import{u as Pe,o as G}from"./keyboard-Dv8ekvWT.js";var ye=(e=>(e[e.RegisterOption=0]="RegisterOption",e[e.UnregisterOption=1]="UnregisterOption",e))(ye||{});let Te={0(e,r){let i=[...e.options,{id:r.id,element:r.element,propsRef:r.propsRef}];return{...e,options:Ee(i,n=>n.element.current)}},1(e,r){let i=e.options.slice(),n=e.options.findIndex(f=>f.id===r.id);return n===-1?e:(i.splice(n,1),{...e,options:i})}},W=o.createContext(null);W.displayName="RadioGroupDataContext";function j(e){let r=o.useContext(W);if(r===null){let i=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,j),i}return r}let Q=o.createContext(null);Q.displayName="RadioGroupActionsContext";function q(e){let r=o.useContext(Q);if(r===null){let i=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,q),i}return r}function Ce(e,r){return Re(r.type,Te,e,r)}let De="div";function we(e,r){let i=o.useId(),n=te(),{id:f=`headlessui-radiogroup-${i}`,value:I,form:R,name:$,onChange:u,by:b,disabled:s=n||!1,defaultValue:m,...M}=e,p=ce(b),[h,T]=o.useReducer(Ce,{options:[]}),l=h.options,[k,A]=oe(),[C,O]=ae(),E=o.useRef(null),D=N(E,r),g=fe(m),[t,w]=me(I,u,g),x=o.useMemo(()=>l.find(a=>!a.propsRef.current.disabled),[l]),P=o.useMemo(()=>l.some(a=>p(a.propsRef.current.value,t)),[l,t]),d=L(a=>{var F;if(s||p(a,t))return!1;let v=(F=l.find(_=>p(_.propsRef.current.value,a)))==null?void 0:F.propsRef.current;return v!=null&&v.disabled?!1:(w==null||w(a),!0)}),U=L(a=>{let F=E.current;if(!F)return;let v=Pe(F),_=l.filter(c=>c.propsRef.current.disabled===!1).map(c=>c.element.current);switch(a.key){case G.Enter:ve(a.currentTarget);break;case G.ArrowLeft:case G.ArrowUp:if(a.preventDefault(),a.stopPropagation(),B(_,K.Previous|K.WrapAround)===J.Success){let c=l.find(S=>S.element.current===(v==null?void 0:v.activeElement));c&&d(c.propsRef.current.value)}break;case G.ArrowRight:case G.ArrowDown:if(a.preventDefault(),a.stopPropagation(),B(_,K.Next|K.WrapAround)===J.Success){let c=l.find(S=>S.element.current===(v==null?void 0:v.activeElement));c&&d(c.propsRef.current.value)}break;case G.Space:{a.preventDefault(),a.stopPropagation();let c=l.find(S=>S.element.current===(v==null?void 0:v.activeElement));c&&d(c.propsRef.current.value)}break}}),z=L(a=>(T({type:0,...a}),()=>T({type:1,id:a.id}))),ne=o.useMemo(()=>({value:t,firstOption:x,containsCheckedOption:P,disabled:s,compare:p,...h}),[t,x,P,s,p,h]),ue=o.useMemo(()=>({registerOption:z,change:d}),[z,d]),se={ref:D,id:f,role:"radiogroup","aria-labelledby":k,"aria-describedby":C,onKeyDown:U},le=o.useMemo(()=>({value:t}),[t]),de=o.useCallback(()=>{if(g!==void 0)return d(g)},[d,g]),pe=V();return y.createElement(O,{name:"RadioGroup.Description"},y.createElement(A,{name:"RadioGroup.Label"},y.createElement(Q.Provider,{value:ue},y.createElement(W.Provider,{value:ne},$!=null&&y.createElement(be,{disabled:s,data:{[$]:t||"on"},overrides:{type:"radio",checked:t!=null},form:R,onReset:de}),pe({ourProps:se,theirProps:M,slot:le,defaultTag:De,name:"RadioGroup"})))))}let xe="div";function Ge(e,r){var i;let n=j("RadioGroup.Option"),f=q("RadioGroup.Option"),I=o.useId(),{id:R=`headlessui-radiogroup-option-${I}`,value:$,disabled:u=n.disabled||!1,autoFocus:b=!1,...s}=e,m=o.useRef(null),M=N(m,r),[p,h]=oe(),[T,l]=ae(),k=Z({value:$,disabled:u});ee(()=>f.registerOption({id:R,element:m,propsRef:k}),[R,f,m,k]);let A=L(d=>{var U;if(ie(d.currentTarget))return d.preventDefault();f.change($)&&((U=m.current)==null||U.focus())}),C=((i=n.firstOption)==null?void 0:i.id)===R,{isFocusVisible:O,focusProps:E}=X({autoFocus:b}),{isHovered:D,hoverProps:g}=Y({isDisabled:u}),t=n.compare(n.value,$),w=re({ref:M,id:R,role:"radio","aria-checked":t?"true":"false","aria-labelledby":p,"aria-describedby":T,"aria-disabled":u?!0:void 0,tabIndex:u?-1:t||!n.containsCheckedOption&&C?0:-1,onClick:u?void 0:A,autoFocus:b},E,g),x=o.useMemo(()=>({checked:t,disabled:u,active:O,hover:D,focus:O,autofocus:b}),[t,u,D,O,b]),P=V();return y.createElement(l,{name:"RadioGroup.Description"},y.createElement(h,{name:"RadioGroup.Label"},P({ourProps:w,theirProps:s,slot:x,defaultTag:xe,name:"RadioGroup.Option"})))}let Ie="span";function Me(e,r){var i;let n=j("Radio"),f=q("Radio"),I=o.useId(),R=ke(),$=te(),{id:u=R||`headlessui-radio-${I}`,value:b,disabled:s=n.disabled||$||!1,autoFocus:m=!1,...M}=e,p=o.useRef(null),h=N(p,r),T=Oe(),l=ge(),k=Z({value:b,disabled:s});ee(()=>f.registerOption({id:u,element:p,propsRef:k}),[u,f,p,k]);let A=L(P=>{var d;if(ie(P.currentTarget))return P.preventDefault();f.change(b)&&((d=p.current)==null||d.focus())}),{isFocusVisible:C,focusProps:O}=X({autoFocus:m}),{isHovered:E,hoverProps:D}=Y({isDisabled:s}),g=((i=n.firstOption)==null?void 0:i.id)===u,t=n.compare(n.value,b),w=re({ref:h,id:u,role:"radio","aria-checked":t?"true":"false","aria-labelledby":T,"aria-describedby":l,"aria-disabled":s?!0:void 0,tabIndex:s?-1:t||!n.containsCheckedOption&&g?0:-1,autoFocus:m,onClick:s?void 0:A},O,D),x=o.useMemo(()=>({checked:t,disabled:s,hover:E,focus:C,autofocus:m}),[t,s,E,C,m]);return V()({ourProps:w,theirProps:M,slot:x,defaultTag:Ie,name:"Radio"})}let Ae=H(we),Fe=H(Ge),Se=H(Me),Le=he,Ue=$e,Be=Object.assign(Ae,{Option:Fe,Radio:Se,Label:Le,Description:Ue});export{Be as R};
